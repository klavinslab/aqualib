
class Protocol
	def main

		media_type = "50% PEG"

		peg = find(:item, { object_type: { name: "PEG 3350" } })[0]
		bottle = find(:item, { object_type: { name: "250 mL Bottle" } } )[0]
		hot_plate = find(:item, { object_type: { name: "Hot/Stir Plate" } } )[0]
		stir_bar = find(:item, { object_type: { name: "Small Magnetic Stir Bar" } } )[0]
		filter = find(:item, { object_type: { name: "1 L Bottle Top Filter" } } )[0]

		show {
			title "About this protocol"
			note "This protocol makes #{media_type}."
		}

		take [peg, bottle, stir_bar, hot_plate, filter], interactive: true

		show {
			title "Remove autoclave tape and add stir bar"
			note "Remove all autoclave tape from the bottle(s) and add a stir bar"
		}

		show {
			title "Add PEG"
			note "Turn on the weigh scale."
			note "Using a weight boat, weigh out 100 grams of #{peg} and add to #{bottle}"
		}

		show {
			title "Add Water"
			note "Using the DI water carboy, add water to the 200 mL mark"
		}

		show {
			title "Stir on hot plate"
			note "Stir on #{hot_plate} at 80 degrees Celsius until the #{peg} is dissolved."
		}

		show {
			title "Filter sterilize"
			note "Using the #{filter}, filter sterilize the PEG." 
		}
		media = produce new_sample "50% PEG", of: "Media", as: "200 mL Liquid"

		media.location = "To be autoclaved area"

		release [sds, media, filter], interactive: true
		
		release [bottle]
	end
end